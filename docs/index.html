<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-96954979-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-96954979-2');
    </script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Load CSS from CDN. (In production, add a version number!) -->
    <link rel="stylesheet" href="https://unpkg.com/vitessce/umd/main.84366ff2.css"/>
    <!-- ... or override with local built with "npm run build": -->
    <link rel="stylesheet" href="../umd/main.css"/>

    <title>ðŸš„ Vitessce</title>
  </head>

  <body>
    <div id="full-app">
      <div class="container-fluid">
        <div class="row p-2">
          <div class="col">
            <!--
              This is a hack, so we can toggle between app and component, without adding more logic inside.
              If the url does not contain the "small" parameter, the content here will be replaced;
              If it does contain "small", the inner div will be filled instead.
            -->
            <a href="?">Vitessce</a> can either be a
            <script>
              const url = window.location.href.replace('small', '');
              document.write('<a href="' + url + '">full-window app</a>,')
            </script>
            or a component in a larger page:
            <div style="width: 1000px;">
              <div id="small-app"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <noscript>
      You need to enable JavaScript to run this app.
    </noscript>

    <!-- See CSS in header! -->

    <!-- External libraries listed in nwb.config.js need to be loaded first: -->
    <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
    <!-- Load JS from CDN. (In production, add a version number!) -->
    <script src="https://unpkg.com/vitessce/umd/vitessce.min.js"></script>
    <!-- ... or override with local built with "npm run build": -->
    <script src="../umd/vitessce.min.js"></script>

    <script type="module">
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.has('small')) {
        vitessce.renderApp('small-app', 100);
      } else {
        vitessce.renderApp('full-app');
      }
    </script>
  </body>
</html>
